package parte2;

import java.text.ParseException;
import java.util.Scanner;
import parte2.entities.Anuncio;

public class Principal {

	public static void main(String[] args) throws ParseException {

		Anuncio[] a = new Anuncio[6];
		int i = 1;
		Integer o;
		int op;

		do {

			op = 0;

			System.out.println("-------------- MENU --------------");
			System.out.println("Digite o número da opção desejada:");
			System.out.println("1 - Cadastrar anúncio");
			System.out.println("2 - Obter relatório");
			System.out.println("3 - Encerrar programa");
			System.out.println("----------------------------------");

			Scanner sc = new Scanner(System.in);
			op = sc.nextInt();

			if (op < 1 || op > 3) {
				System.out.println("Opção inválida. Por favor, digite o número correspondente à operação desejada.");
			}

			switch (op) {
			case 1:

				do {

					sc.nextLine();

					a[i] = new Anuncio();
					a[i].setId(i);

					System.out.println("Digite as informações para cadastrar um novo anúncio.");
					System.out.printf("Nome do anúncio: ");
					a[i].setNome(sc.nextLine());
					System.out.printf("Nome do cliente: ");
					a[i].setCliente(sc.nextLine());
					System.out.printf("Data de início (dd/MM/yyyy): ");
					a[i].setDataInicio(sc.next());
					System.out.printf("Data de término (dd/MM/yyyy): ");
					a[i].setDataTermino(sc.next());
					System.out.printf("Investimento diário: ");
					a[i].setInvestDia(sc.nextDouble());

					System.out.println("----------------------------------");
					System.out.println("Anúncio cadastrado com sucesso!");
					i++;

					do {

						System.out.println("----------------------------------");
						System.out.println("1 - Cadastrar novo anúncio");
						System.out.println("2 - Retornar");
						op = sc.nextInt();

						if (op == 1) {
							break;
						}

						if (op != 1 && op != 2) {
							System.out.println(
									"Opção inválida. Por favor, digite o número correspondente à operação desejada.");
						}

					} while (op == 1);

				} while (op == 1);

				break;

			case 2:

				if (a[1] == null) {

					System.out.println("Não há anúncios cadastrados.");

				} else {

					System.out.println("Anúncios cadastrados:");

					for (int p = 1; p <= (i - 1); p++) {
						System.out.println("Id: " + a[p].getId() + " | Nome: " + a[p].getNome());
					}

					System.out.println("----------------------------------");
					System.out.printf("Digite o id do anúncio para obter o relatório: ");
					o = sc.nextInt();

					if (o != 0 && o < i) {

						System.out.println("----------------------------------");
						System.out.println("Consultando anúncio " + a[o].getNome());
						System.out.println("----------------------------------");
						System.out.println("Nome do anúncio: " + a[o].getNome());
						System.out.println("Nome do cliente: " + a[o].getCliente());
						System.out.println("Data de início (dd/MM/yyyy): " + a[o].getDataInicio());
						System.out.println("Data de término (dd/MM/yyyy): " + a[o].getDataTermino());
						System.out.println("Investimento diário: " + a[o].getInvestDia());
						System.out.println("Valor total investido: "
								+ a[o].valorTotal(a[o].getInvestDia(), a[o].getDataInicio(), a[o].getDataTermino()));
						a[o].qtdMax();

						System.out.println("----------------------------------");
						System.out.println("Para retornar, digite 0: ");
						op = sc.nextInt();

						switch (op) {
						case 0:
							System.out.println("Por favor, digite 0 para retornar: ");
						}
						break;

					} else {

						System.out.println("Por favor, digite um id válido. ");

					}

				}

				break;

			case 3:

				sc.close();
				break;

			}

		} while (op != 3);

		System.out.println("Encerrado.");

	}

}
